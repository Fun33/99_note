ref
http://delphi.ktop.com.tw/board.php?cid=30&fid=66&tid=102534

長時間lock某些資料，長時間的transaction，update的筆數過大，dead lock等問題所造成。
當某個table肥到不行時，效能自然也會變差
寫與查是分開的
又如，我們給客戶查詢的資料，通常是用replication的"同步"db。而寫的部份則才用正的那個db。
寫與查是分開的。
---------------------------------------------------
謝謝各位的回應，主機是專供 Sql Server 用的，而程式碼又真的相當複雜。
我先前沒有設 Sql Server 的最大記憶體使用量，於是發生 Sql Server 吃太多記憶體，只剩一點點給 OS用，
OS 的一些基本程序一直使用虛擬記憶體，硬體 IO 大增，CPU 都在 85% 以上，查詢和存檔都變得非常的慢，大家都以為是當機了，

後來把最大記憶體設為 3072MB，留 1 G 給 OS，但它會多吃，最高會到 3.4G 多一些。
現在上班時間，可用記憶體，都在 60MB 到 200MB 之間，但大部份時間都在 100MB 以下，常常有員工打內線向我抱怨資料處理速度太慢，
我走到他們的位置觀察，畫面都反白，同樣的操作再做一次，又變回正常速度，速度變慢都是短時間的，過一陣子又恢復正常。
那些 Sql Server 保留的記憶體，是待用的？還是已使用不能再利用？
如果是前者，就不用釋放記憶體了。
工作管理員還看到 ReportServicesServece.exe，佔用一百多 MB，
我家的電腦記憶體只有 256MB，要跑 XP、上網等程式，都夠用，
光一支報表程式卡住一百多 mb，實在又夠多餘，
我沒有用微軟的報表系統，把它關掉，在工作管理員中關閉沒多久，它又自動跑出來，好像只能從開機程式表下手。
-----------------------------ANS--------------------
1/ 照上面的那篇微軟的文章裡，它就有提到最大的記憶體不包含com元件等dll的載入之類的。所以實際上你看到的會超過最大量一些。
2/ 多出來的是待用的。
3/ reportservice之類的占很大的問題…因為sql server 本來就是預設跑在"server等級的"機器上，能叫server等級而且運作的，
一般memory不太可能小，尤其是近年來ram那麼的便宜。
4/ 最後的重點: 我想你會去注意memory的問題，是有人回你說，怎麼變慢了… 這應該是有觸發你去注意的點。
在此，我提出個人的經驗，這類的問題通常是使用的sql的語法不夠精鋉造成，
如: 長時間lock某些資料，長時間的transaction，update的筆數過大，dead lock等問題所造成。
也就是說是 「程式人員」的問題機率高一點。mssql 也是商用級的軟體，平心來說，還算很ok。
以前我在某電信公司上班，用了很多的mssql server，每分每秒都有人在call電話，也在記資料，還有客戶在查資料等……  
如果那麼慘，我看也不用營業了。問題在一般的程式人員，寫的sql語法真的算普通級，不是大師級，所以常常會有短時間卡卡的問題。
此外，sql雖每天不關機，但不知道是否每晚，如半夜的時候，有做維護資料計劃，把一些舊資料往另一個table搬。
而主資料則常常保持在一個期間內的筆數?   
當某個table肥到不行時，效能自然也會變差，至於轉到"歷史"資料table的東西，你又該怎麼把線上的join在一起? 
這就是專業資料庫人員與一般的分野了。

寫與查是分開的
又如，我們給客戶查詢的資料，通常是用replication的"同步"db。而寫的部份則才用正的那個db。
寫與查是分開的。

select * from foo with (nolock)
又，比如說，對於不是很重要需要即時的查詢，我們都要用 dirty query，如 select * from foo with (nolock) where ......  。
還index的精心設計。還有每個sql都經過一些 query analyzer的時間測式，找出最佳語法 (我們知道要達成同一個目的，常有數種寫法)…等等
總之，資料庫事實上是很深的學問，不是單純 select / delete /update等…
還有，有些人喜歡在程式裡用 數個for來找資料，這也是可以用不同的語法來處理，這種差異可達  2-3 分鐘的差別出來。

太多的技巧了，仔細去查問題。至於mssql本身的問題，我想應該是最小的吧!